; TESTS
; G18 XY arc tests running are:
; G18 arc [XY plane] with I offsets
; G18 arc [XY plane] with I offsets & Y helix
; G18 arc [XY plane] with K offsets
; G18 arc [XY plane] with K offsets & Y helix
; G18 arc [XY plane] 1080 degrees with Z helix

; STARTING ASSUMPTIONS
;  Machine has:
;   X travel 4" minimum
;   Y travel 4" minimum
;   Z travel 4" minimum vertical travel measured from table

; PRECONDITIONS - “before” (all tests unless otherwise noted)
;   X set to midpoint
;   Y set to midpoint
;   Z set to middle of travel with at least 2" clearance to bed and top
;
; EXPECTED RESULTS
;   CW should be clockwise as viewed looking from the rear of the machine in Y
;   Partial circles should return to zero with a traverse

;******************************************************************
; G18 arc [XY plane] with I offsets)
;

g28.3 x0 y0 z0	; set zero
g4 p0.1		; delay
g18 g90 g91.1 	; set arc parameters
g21 g54
f1000

g0 x0 y0 z0
g18 g2 i20 (360 CW)
g0 x0 y0 z0
g18 g3 i20 (360 CCW)
g0 x0 y0 z0
g18 g2 i20 x40 (180 CW)
g0 x0 y0 z0
g18 g3 i20 x40 (180 CCW)
g0 x0 y0 z0
g18 g2 i20 x20 y20 (90 CW)
g0 x0 y0 z0
g18 g3 i20 x20 y-20 (90 CCW)
g0 x0 y0 z0

;******************************************************************
; G18 arc [XY plane] with I offsets & Z helix)
;
; PERFORMS
;   CW  360 circle, Z plunge to -50
;   CCW 360 circle, Z retract to 0
;   CW  180 arc with Z plunge to -50
;   CCW 180 arc with Z retract to zero
;   CW   90 arc with Z plunge to -50
;   CCW  90 arc with Z retract to 0
;
; PRECONDITIONS:
;   X set to midpoint
;   Y set to midpoint
;   Z set to table bed (or just above)
;
; EXPECTED RESULTS:
;   CW should be clockwise as viewed looking down on the XY plane (positive Z)
;   Partial circles return to zero with a traverse

g28.3 x0 y0 z0
g21 G18 g90 g54
g4 p1
f1000

g0 x0 y0 z0
G18 g2 i20 z50 (360 CW)
g0 x0 y0
G18 g3 i20 z0 (360 CCW)
g0 x0 y0 z0
G18 g2 i20 x40 z50 (180 CW)
g0 x0 y0
G18 g3 i20 x40 z0 (180 CCW)
g0 x0 y0 z0
G18 g2 i20 x20 y20 z50 (90 CW)
g0 x0 y0
G18 g3 i20 x20 y-20 z0 (90 CCW)
g0 x0 y0 z0

;******************************************************************
; G18 arc [XY plane] with J offsets)
;
; PERFORMS
;   CW  360 circle offset in Y
;   CCW 360 circle
;   CW  180 arc
;   CCW 180 arc
;   CW   90 arc
;   CCW  90 arc
;
; PRECONDITIONS:
;   X set to midpoint
;   Y set to midpoint
;   Z set to table bed (or just above)
;
; EXPECTED RESULTS:
;   CW should be clockwise as viewed looking down on the XY plane (positive Z)
;   Partial circles should return to zero with a traverse

g28.3 x0 y0 z0
g21 G18 g90 g54
g4 p1
f1000

g0 x0 y0 z0
G18 g2 j20 (360 CW)
g0 x0 y0 z0
G18 g3 j20 (360 CCW)
g0 x0 y0 z0
G18 g2 j20 y40 (180 CW)
g0 x0 y0 z0
G18 g3 j20 y40 (180 CCW)
g0 x0 y0 z0
G18 g2 j20 x-20 y20 (90 CW)
g0 x0 y0 z0
G18 g3 j20 x20 y20 (90 CCW)
g0 x0 y0 z0

;******************************************************************
; G18 arc [XY plane] with J offsets & Z helix)
;
; PERFORMS
;   CW  360 circle, Z plunge to -50
;   CCW 360 circle, Z retract to 0
;   CW  180 arc with Z plunge to -50
;   CCW 180 arc with Z retract to zero
;   CW   90 arc with Z plunge to -50
;   CCW  90 arc with Z retract to 0
(
; PRECONDITIONS:
;   X set to midpoint
;   Y set to midpoint
;   Z set to table bed (or just above)
;
; EXPECTED RESULTS:
;   CW should be clockwise as viewed looking down on the XY plane (positive Z)
;   Partial circles return to zero with a traverse
;
g28.3 x0 y0 z0
g21 G18 g90 g54
g4 p1
f1000

g0 x0 y0 z0
G18 g2 j20 z50 (360 CW)
g0 x0 y0
G18 g3 j20 z0 (360 CCW)
g0 x0 y0 z0
G18 g2 j20 y40 z50 (180 CW)
g0 x0 y0
G18 g3 j20 y40 z0 (180 CCW)
g0 x0 y0 z0
G18 g2 j20 x-20 y20 z50 (90 CW)
g0 x0 y0
G18 g3 j20 x20 y20 z0 (90 CCW)
g0 x0 y0 z0

(******************************************************************
(msg G18 arc [XY plane] 1080 degrees with Z helix)
(
; PERFORMS
;   CW  1080 degree, 3 x 80mm circles with 50mm Z plunge, offset in X
;   CCW 1080 degree reversal of above
(
; PRECONDITIONS - See “before”
(
; RESULTS
;   CW should be clockwise as viewed looking down on the XY plane (positive Z)
(
f4000
g0 x0 y0 z0
G18 g2 i40 p3 z-50
G18 g3 i40 p3 z0
g0 x0 y0 z0
